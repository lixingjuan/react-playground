(this["webpackJsonpreact-playground"]=this["webpackJsonpreact-playground"]||[]).push([[21],{495:function(e,t,n){},762:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var c=n(772),r=n(85),i=n(0),o=n.n(i),s=n(323),a=n(745),l=n(288),u=n(10),d=o.a.memo((function(e){var t=e.showCount,n=Object(i.useRef)(0);return n.current+=1,Object(u.jsxs)(s.a,{justify:"space-between",children:[Object(u.jsxs)("span",{children:["Render Count: ",n.current]}),Object(u.jsx)("button",{type:"button",onClick:t,children:"showParentCount"})]})}));var j=n(241);var b=function e(){Object(j.a)(this,e),this.data=void 0,this.data=Math.random()};var h=n(751);var O=n(764);function f(e){return console.log(e),new Promise((function(e){setTimeout((function(){e({success:!0})}),1e3)}))}function x(){var e=Object(i.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(O.a)(f,{manual:!0,onSuccess:function(e,t){e.success&&(c(""),a.b.success('The username was changed to "'.concat(t[0],'" !')))}}),l=o.loading,d=o.run;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"\u624b\u52a8\u89e6\u53d1\u624d\u4f1a\u89e6\u53d1\u8bf7\u6c42"}),Object(u.jsxs)(s.a,{children:[Object(u.jsx)("input",{onChange:function(e){return c(e.target.value)},value:n,placeholder:"Please enter username",style:{width:240,marginRight:16}}),Object(u.jsx)("button",{disabled:l,type:"button",onClick:function(){return d(n)},children:l?"loading":"Edit"})]})]})}var g=n(382),m=n.n(g);function p(){return new Promise((function(e){setTimeout((function(){e(m.a.mock("@name"))}),0)}))}function v(){var e=Object(O.a)(p,{pollingInterval:5e3,pollingWhenHidden:!1}),t=e.data,n=e.loading,c=e.run,r=e.cancel;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"\u6bcf5\u79d2\u4ea7\u751f\u4e00\u4e2a\u65b0\u540d\u5b57"}),Object(u.jsxs)("p",{children:["Username: ",n?"loading":t]}),Object(u.jsx)("button",{type:"button",onClick:c,children:"start"}),Object(u.jsx)("button",{type:"button",onClick:r,style:{marginLeft:8},children:"stop"})]})}function y(e){return console.log(e),new Promise((function(e){setTimeout((function(){e({success:!0})}),1e3)}))}function C(){var e=Object(O.a)(y,{manual:!0,fetchKey:function(e){return e},onSuccess:function(e,t){e.success&&a.b.success("Disabled user ".concat(t[0]))}}),t=e.run,n=e.fetches;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"\u6d4b\u8bd5\u5e76\u884c"}),Object(u.jsx)("div",{children:"You can click all buttons, each request has its own status."}),Object(u.jsx)("ul",{children:[{id:"1",username:"A"},{id:"2",username:"B"},{id:"3",username:"C"}].map((function(e){var c,r;return Object(u.jsx)("li",{style:{marginTop:8},children:Object(u.jsx)("button",{type:"button",onClick:function(){var n;n=e.id,t(n)},disabled:null===(c=n[e.id])||void 0===c?void 0:c.loading,children:(null===(r=n[e.id])||void 0===r?void 0:r.loading)?"loading":"delete ".concat(e.id)})},e.id)}))})]})}function k(){return new Promise((function(e){setTimeout((function(){e(1011)}),1e3)}))}function w(){var e=Object(O.a)(k),t=Object(O.a)((function(){return t=e.data,console.log("user id:",t),new Promise((function(e){setTimeout((function(){e(m.a.mock("@name"))}),1e3)}));var t}),{ready:!!e.data});return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"\u4e32\u884c\u8bf7\u6c42\uff0c\u4f9d\u8d56\u8bf7\u6c42"}),Object(u.jsxs)("p",{children:["UserId: ",e.loading?"loading":e.data]}),Object(u.jsxs)("p",{children:["Username: ",t.loading?"loading":t.data]})]})}n(495);var S=n(244),D=n(752),E=function(e){return function(t){return{key:e&&!1===e.getPropsWithKey?void 0:JSON.stringify(t),draggable:"true",onDragStart:function(n){e&&e.onDragStart&&e.onDragStart(t,n),n.dataTransfer.setData("custom",JSON.stringify(t))},onDragEnd:function(n){e&&e.onDragEnd&&e.onDragEnd(t,n)}}}};function T(e){return Object(u.jsx)("div",Object(S.a)(Object(S.a)({},e),{},{style:{border:"1px solid #e8e8e8",padding:16,width:80,textAlign:"center",marginRight:16},children:e.children}))}var R=n(205);var A=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=Object(i.useState)(e),c=Object(r.a)(n,2),o=c[0],s=c[1],a=Object(i.useMemo)((function(){var n=void 0===t?!e:t;return{toggle:function(t){s(void 0===t?function(t){return t===e?n:e}:t)},setLeft:function(){return s(e)},setRight:function(){return s(n)}}}),[e,t]);return[o,a]};var P=n(377),F=n(383);var M=n(753);var L=n(754);var J=n(491),U=[{title:"usePersistFn",CompElement:function(){var e=Object(i.useState)(0),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(l.a)((function(){a.b.info("Parent count is ".concat(n))})),s=Object(i.useCallback)((function(){a.b.info("Parent count is ".concat(n))}),[n]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"\u901a\u8fc7 usePersistFn\uff0c\u51fd\u6570\u5f15\u7528\u6c38\u8fdc\u4e0d\u4f1a\u53d8\u5316\uff0c\u793a\u4f8b\u4e2d showCountPersistFn \u662f\u4e0d\u4f1a\u53d8\u5316\u7684\uff0cshowCountCommon \u5728 count \u53d8\u5316\u65f6\u53d8\u5316\u3002"}),Object(u.jsx)("button",{type:"button",onClick:function(){c((function(e){return e+1}))},children:"Add Count"}),Object(u.jsx)("p",{children:"You can click the button to see the number of sub-component renderings"}),Object(u.jsxs)("ol",{children:[Object(u.jsxs)("li",{style:{marginTop:32},children:[Object(u.jsx)("h4",{children:"Component with persist function:"}),Object(u.jsx)("h4",{children:"sub-component will only render once"}),Object(u.jsx)(d,{showCount:o})]}),Object(u.jsxs)("li",{style:{marginTop:32},children:[Object(u.jsx)("h4",{children:"\u6ca1\u6709\u4f7f\u7528 usePersistFn function \u7684 Component:"}),Object(u.jsx)("h4",{children:"sub-component will re-render on state change"}),Object(u.jsx)(d,{showCount:s})]})]})]})}},{title:"useCreation",CompElement:function(){var e=function(e,t){var n=Object(i.useRef)({deps:t,obj:void 0,initialized:!1}).current;return!1!==n.initialized&&function(e,t){if(e===t)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n.deps,t)||(n.deps=t,n.obj=e(),n.initialized=!0),n.obj}((function(){return new b}),[]),t=Object(i.useRef)(new b),n=Object(i.useMemo)((function(){return new b}),[]),c=Object(i.useState)({}),o=Object(r.a)(c,2)[1];return Object(i.useEffect)((function(){console.log("creationData.data\u6539\u53d8")}),[e.data]),Object(i.useEffect)((function(){console.log("refData.current.data\u6539\u53d8")}),[t.current.data]),Object(i.useEffect)((function(){console.log("memoData.data\u6539\u53d8")}),[n.data]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("p",{children:["creationData",e.data]}),Object(u.jsxs)("p",{children:["refData.data",t.current.data]}),Object(u.jsxs)("p",{children:["memoData.data",n.data]}),Object(u.jsx)("button",{type:"button",onClick:function(){o({})},children:"Rerender"})]})}},{title:"useDebounce",CompElement:function(){var e=Object(i.useState)(),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(h.a)(n,{wait:1e3,leading:!0});return Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{value:n,onChange:function(e){return c(e.target.value)},placeholder:"Typed value",style:{width:280}}),Object(u.jsxs)("p",{style:{marginTop:16},children:["DebouncedValue: ",o]})]})}},{title:"useRequest",CompElement:function(){return Object(u.jsx)("div",{children:Object(u.jsxs)("ol",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(x,{})}),Object(u.jsx)("li",{children:Object(u.jsx)(v,{})}),Object(u.jsx)("li",{children:Object(u.jsx)(C,{})}),Object(u.jsx)("li",{children:Object(u.jsx)(w,{})})]})})}},{title:"useDrag",CompElement:function(){var e=Object(i.useState)(null),t=Object(r.a)(e,2),n=t[0],c=t[1],o=E({onDragStart:function(e){c(e)},onDragEnd:function(){c(null)}}),s=Object(D.a)({onText:function(e,t){console.log(t),alert("'text: ".concat(e,"' dropped"))},onFiles:function(e,t){console.log(t,e),alert("".concat(e.length," file dropped"))},onUri:function(e,t){console.log(t),alert("uri: ".concat(e," dropped"))},onDom:function(e,t){alert("custom: ".concat(e," dropped"))}}),a=Object(r.a)(s,2),l=a[0],d=a[1].isHovering;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",Object(S.a)(Object(S.a)({style:{border:"1px dashed #e8e8e8",padding:16,textAlign:"center"}},l),{},{draggable:!0,onDragStart:function(e){console.log(e)},children:d?"release here":"drop here"})),Object(u.jsx)("div",{style:{display:"flex",marginTop:8},children:Array.from(Array(5)).map((function(e,t){return Object(u.jsxs)(T,Object(S.a)(Object(S.a)({},o("box".concat(t))),{},{children:["box",t]}))}))}),Object(u.jsx)("div",{style:{marginTop:8},children:n?Object(u.jsxs)(u.Fragment,{children:["dragging ",n]}):"not dragging"})]})}},{title:"useToggle",CompElement:function(){var e=A("left","right"),t=Object(r.a)(e,2),n=t[0],c=t[1],i=c.toggle,o=c.setLeft,s=c.setRight;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:["Current Vlue: ",String(n)]}),Object(u.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridColumnGap:"30px"},children:[Object(u.jsx)(R.a,{type:"dashed",onClick:function(){return i()},children:"Toggle"}),Object(u.jsx)(R.a,{type:"dashed",onClick:function(){return o()},children:"setLeft"}),Object(u.jsx)(R.a,{type:"dashed",onClick:function(){return s()},children:"setRight"})]})]})}},{title:"useCountDown",CompElement:function(){var e=Object(L.a)({targetDate:"2021-12-31 24:00:00"}),t=Object(r.a)(e,3),n=t[0],c=t[1],i=t[2],o=i.days,s=i.hours,a=i.minutes,l=i.seconds,d=i.milliseconds;return Object(u.jsxs)("div",{children:[Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"\u5012\u8ba1\u65f6(\u4ece\u7ec4\u4ef6\u52a0\u8f7d\u5230\u672a\u6765)1000\u79d2\u7684\u6beb\u79d2\u6570"}),Object(u.jsxs)("div",{children:["countdown: ",n]})]}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"\u683c\u5f0f\u5316\u7684\u65f6\u95f4"}),Object(u.jsxs)("ul",{children:[Object(u.jsxs)("li",{children:["days: ",o]}),Object(u.jsxs)("li",{children:["hours: ",s]}),Object(u.jsxs)("li",{children:["minutes: ",a]}),Object(u.jsxs)("li",{children:["seconds: ",l]}),Object(u.jsxs)("li",{children:["milliseconds: ",d]})]})]}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"\u624b\u52a8\u63a7\u5236\u8ba1\u65f6\u5668\u7684\u72b6\u6001, \u8bbe\u7f6e\u5012\u8ba1\u65f65\u79d2"}),Object(u.jsx)("button",{onClick:function(){c(Date.now()+5e3)},disabled:0!==n,children:0===n?"Start Interval":"Reset After ".concat(Math.round(n/1e3),"s")}),Object(u.jsx)("button",{onClick:function(){c(void 0)},style:{marginLeft:8},children:"stop"})]})]})}},{title:"useCount",CompElement:function(){var e=Object(M.a)(100,{min:1,max:10}),t=Object(r.a)(e,2),n=t[0],c=t[1],i=c.inc,o=c.dec,s=c.set,a=c.reset;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("p",{children:[n," [max: 10; min: 1;]"]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{type:"button",onClick:function(){i()},style:{marginRight:8},children:"inc()"}),Object(u.jsx)("button",{type:"button",onClick:function(){o()},style:{marginRight:8},children:"dec()"}),Object(u.jsx)("button",{type:"button",onClick:function(){s(3)},style:{marginRight:8},children:"set(3)"}),Object(u.jsx)("button",{type:"button",onClick:function(){a()},style:{marginRight:8},children:"reset()"})]})]})}},{title:"useSelections",CompElement:function(){var e=Object(i.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(i.useMemo)((function(){return n?[2,4,6,8]:[1,2,3,4,5,6,7,8]}),[n]),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(i.useState)(t),c=Object(r.a)(n,2),o=c[0],s=c[1],a=Object(i.useMemo)((function(){return new Set(o)}),[o]),l=Object(i.useMemo)((function(){var e=function(e){return a.has(e)},t=function(e){return a.add(e),s(Array.from(a))},n=function(e){return a.delete(e),s(Array.from(a))};return{isSelected:e,select:t,unSelect:n,toggle:function(c){e(c)?n(c):t(c)}}}),[a]),u=Object(i.useMemo)((function(){var t=function(){e.forEach((function(e){a.add(e)})),s(Array.from(a))},n=function(){e.forEach((function(e){a.delete(e)})),s(Array.from(a))},c=e.every((function(e){return!a.has(e)})),r=e.every((function(e){return a.has(e)}))&&!c;return{selectAll:t,unSelectAll:n,noneSelected:c,allSelected:r,partiallySelected:!c&&!r,toggleAll:function(){return r?n():t()}}}),[a,e]);return Object(S.a)(Object(S.a)({selected:o,setSelected:s},l),u)}(o,[1]),l=a.selected,d=a.allSelected,j=a.isSelected,b=a.toggle,h=a.toggleAll,O=a.partiallySelected;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:["\u521d\u59cb\u5316\u88ab\u9009\u4e2d\u7684\u5143\u7d20 selected : ",l.join(",")]}),Object(u.jsxs)("div",{style:{borderBottom:"1px solid #E9E9E9",padding:"10px 0"},children:[Object(u.jsx)(P.a,{checked:d,onClick:h,indeterminate:O,children:"Check all"}),Object(u.jsx)(P.a,{checked:n,onClick:function(){return c((function(e){return!e}))},children:"Hide Odd"})]}),Object(u.jsx)(s.a,{style:{padding:"10px 0"},children:o.map((function(e){return Object(u.jsx)(F.a,{span:12,children:Object(u.jsx)(P.a,{checked:j(e),onClick:function(){return b(e)},children:e})},e)}))})]})}}];function z(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"ahooks\u6e90\u7801\u5b66\u4e60"}),Object(u.jsx)("h3",{children:"\u6e90\u7801\u771f\u7684\u8fc7\u4e8e\u7cbe\u81f4\u4e86\uff01"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"card-wrapper",children:U.map((function(e){var t=e.title,n=e.CompElement;return Object(u.jsx)(c.a,{style:{borderColor:"#7fcbfa"},title:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(J.a,{twoToneColor:"#eb2f96"}),Object(u.jsx)("span",{children:t})]}),children:Object(u.jsx)(n,{})})}))})]})}}}]);
//# sourceMappingURL=21.4509550d.chunk.js.map