{"version":3,"sources":["pages/TestDateRange/index.js"],"names":["RangePicker","DatePicker","TestDateRange","useState","tempDate","setTempDate","dates","setDates","realDate","setRealDate","value","onChange","val","console","log","disabledDate","current","length","tooLate","diff","onCalendarChange","onOpenChange","open","undefined"],"mappings":"wKAGQA,EAAgBC,IAAhBD,YA6DOE,UA3DO,WAEpB,MAAgCC,qBAAhC,mBAAOC,EAAP,KAAiBC,EAAjB,KAEA,EAA0BF,mBAAS,IAAnC,mBAAOG,EAAP,KAAcC,EAAd,KAEA,EAAgCJ,qBAAhC,mBAAOK,EAAP,KAAiBC,EAAjB,KAuCA,OACE,gCACE,8FACA,cAACT,EAAD,CACEU,MAAOF,GAAYJ,EACnBO,SAVW,SAACC,GAChBC,QAAQC,IAAI,eAAM,YAClBT,EAAYO,IASRG,aAxCe,SAACC,GACpB,IAAKV,GAA0B,IAAjBA,EAAMW,OAClB,OAAO,EAET,IAAMC,EAAUZ,EAAM,IAAMU,EAAQG,KAAKb,EAAM,GAAI,SAAW,EAE9D,OADiBA,EAAM,IAAMA,EAAM,GAAGa,KAAKH,EAAS,SAAW,GAC5CE,GAmCfE,iBAjBmB,SAACR,GACxBC,QAAQC,IAAI,eAAM,oBAClBP,EAASK,IAgBLS,aA9Be,SAACC,GAChBA,GACFf,EAAS,IACTE,EAAY,KAEZA,OAAYc","file":"static/js/27.644e6787.chunk.js","sourcesContent":["import { useState } from \"react\";\nimport { DatePicker } from \"antd\";\n\nconst { RangePicker } = DatePicker;\n\nconst TestDateRange = () => {\n  /* 中间中转时间 */\n  const [tempDate, setTempDate] = useState();\n  /* 每次的选择 */\n  const [dates, setDates] = useState([]);\n  /* 最终真实值 */\n  const [realDate, setRealDate] = useState();\n\n  /**\n   * @desc disabled 的时间范围\n   */\n  const disabledDate = (current) => {\n    if (!dates || dates.length === 0) {\n      return false;\n    }\n    const tooLate = dates[0] && current.diff(dates[0], \"years\") < 1;\n    const tooEarly = dates[1] && dates[1].diff(current, \"years\") < 1;\n    return tooEarly || tooLate;\n  };\n\n  /**\n   * @desc 打开关闭\n   */\n  const onOpenChange = (open) => {\n    if (open) {\n      setDates([]);\n      setRealDate([]);\n    } else {\n      setRealDate(undefined);\n    }\n  };\n\n  /**\n   * @desc 待选日期范围发生变化的回调\n   */\n  const onCalendarChange = (val) => {\n    console.log(\"触发\", \"onCalendarChange\");\n    setDates(val);\n  };\n\n  const onChange = (val) => {\n    console.log(\"触发\", \"onChange\");\n    setTempDate(val);\n  };\n\n  return (\n    <div>\n      <h1>时间范围必须大于一年</h1>\n      <RangePicker\n        value={realDate || tempDate}\n        onChange={onChange}\n        disabledDate={disabledDate}\n        onCalendarChange={onCalendarChange}\n        onOpenChange={onOpenChange}\n      />\n    </div>\n  );\n};\n\nexport default TestDateRange;\n"],"sourceRoot":""}